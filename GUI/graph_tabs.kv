#:kivy 2.0
#:import Graph kivy.garden.graph

<GraphTabs>:
    do_default_tab: False
    altro_tab: _altro_tab
    LIS3DHTabbedPanelItem:
        text : 'Filtered data'
        id: _altro_tab

<LIS3DHTabbedPanelItem>:
    graph: _graph
    plot_settings: _plot_settings
    BoxLayout:
        padding: 5
        orientation: 'horizontal'
        Graph:
            id: _graph
            size_hint_x: 0.7
        PlotSettings:
            id: _plot_settings
            size_hint_x: 0.3

<PlotSettings>:
    orientation: 'vertical'
    spacing: 5
    padding: 5
    seconds_spinner: _seconds_spinner
    ymin_input: _ymin
    ymax_input: _ymax
    autoscale_checkbox: _autoscale_checkbox
    hr_label: _heart_rate
    hr_min: _hr_min
    hr_max: _hr_max
    hr_avg: _hr_avg

    GridLayout:
        cols: 2
        spacing: 5
        padding: 5
        size_hint_y: 0.4
        canvas.before:
            Color:
                rgba: 0.5, 0.5, 0.5, 1.0
            Rectangle:
                pos: self.pos
                size: self.size
        PlotSettingsLabel:
            text: 'Min'
        FloatInput:
            text: '-2'
            id: _ymin
        PlotSettingsLabel:
            text: 'Max'
        FloatInput:
            text: '2'
            id: _ymax
        PlotSettingsLabel:
            text: 'Autoscale'
        CheckBox:
            id: _autoscale_checkbox
            active: False
        PlotSettingsLabel:
            text: 'Seconds'
        Spinner:
            id: _seconds_spinner
            values: ['1','5','10','20']
            text: '20'
    GridLayout:
        cols: 2
        spacing: 5
        padding: 5
        size_hint_y: 0.4
        canvas.before:
            Color:
                rgba: 1.0, 1.0, 0.1, 1.0
            Rectangle:
                pos: self.pos
                size: self.size
        PlotSettingsLabel:
            text: 'HR'
        Label:
            id: _heart_rate
            text: ''
            color: 0, 0, 0, 1.0
        PlotSettingsLabel:
            text: 'Min HR'
        Label:
            id: _hr_min
            text: ''
            color: 0, 0, 0, 1.0
        PlotSettingsLabel:
            text: 'Max HR'
        Label:
            id: _hr_max
            text: ''
            color: 0, 0, 0, 1.0
        PlotSettingsLabel:
            text: 'Average HR'
        Label:
            id: _hr_avg
            text: ''
            color: 0, 0, 0, 1.0

<PlotSettingsLabel@Label>:
    canvas.before:
        Color:
            rgba: 0.1, 0.1, 0.1, 1.0
        Rectangle:
            pos: self.pos
            size: self.size